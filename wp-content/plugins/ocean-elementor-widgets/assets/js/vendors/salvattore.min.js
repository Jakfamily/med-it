/*!
 * Salvattore 1.0.9 by @rnmp and @ppold
 * https://github.com/rnmp/salvattore
 */
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.salvattore=t()}(this,function(){return window.matchMedia||(window.matchMedia=function(){"use strict";var t,e,n,r=window.styleMedia||window.media;return r||(t=document.createElement("style"),e=document.getElementsByTagName("script")[0],n=null,t.type="text/css",t.id="matchmediajs-test",e.parentNode.insertBefore(t,e),n="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,r={matchMedium:function(e){e="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=e:t.textContent=e,"1px"===n.width}}),function(e){return{matches:r.matchMedium(e||"all"),media:e||"all"}}}()),function(){"use strict";var c,a,i,t,l,o;window.matchMedia&&window.matchMedia("all").addListener||(c=window.matchMedia,a=c("only all").matches,i=!1,t=0,l=[],o=function(e){clearTimeout(t),t=setTimeout(function(){for(var e=0,t=l.length;e<t;e++){var n=l[e].mql,r=l[e].listeners||[],a=c(n.media).matches;if(a!==n.matches){n.matches=a;for(var i=0,o=r.length;i<o;i++)r[i].call(window,n)}}},30)},window.matchMedia=function(e){var t=c(e),r=[],n=0;return t.addListener=function(e){a&&(i||(i=!0,window.addEventListener("resize",o,!0)),0===n&&(n=l.push({mql:t,listeners:r})),r.push(e))},t.removeListener=function(e){for(var t=0,n=r.length;t<n;t++)r[t]===e&&r.splice(t,1)},t})}(),function(){"use strict";for(var i=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),r=Math.max(0,16-(n-i)),a=window.setTimeout(function(){e(n+r)},r);return i=n+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),"function"!=typeof window.CustomEvent&&function(){"use strict";function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),function(i,s){"use strict";function u(e,t,n){e.dataset?e.dataset[t]=n:e.setAttribute("data-"+t,n)}var d={},r=[],a=[],o=[];return d.obtainGridSettings=function(e){var t=i.getComputedStyle(e,":before").getPropertyValue("content").slice(1,-1),n=t.match(/^\s*(\d+)(?:\s?\.(.+))?\s*$/),r=1,e=[];return n?(r=n[1],e=(e=n[2])?e.split("."):["column"]):(n=t.match(/^\s*\.(.+)\s+(\d+)\s*$/))&&(e=n[1],r=(r=n[2])&&r.split(".")),{numberOfColumns:r,columnClasses:e}},d.addColumns=function(e,t){for(var n,r=d.obtainGridSettings(e),a=r.numberOfColumns,i=r.columnClasses,o=new Array(+a),c=s.createDocumentFragment(),l=a;0!=l--;)n="[data-columns] > *:nth-child("+a+"n-"+l+")",o.push(t.querySelectorAll(n));o.forEach(function(e){var t=s.createElement("div"),n=s.createDocumentFragment();t.className=i.join(" "),Array.prototype.forEach.call(e,function(e){n.appendChild(e)}),t.appendChild(n),c.appendChild(t)}),e.appendChild(c),u(e,"columns",a)},d.removeColumns=function(e){var t=s.createRange();t.selectNodeContents(e);var e=Array.prototype.filter.call(t.extractContents().childNodes,function(e){return e instanceof i.HTMLElement}),r=e.length,t=e[0].childNodes.length,a=new Array(t*r);Array.prototype.forEach.call(e,function(e,n){Array.prototype.forEach.call(e.children,function(e,t){a[t*r+n]=e})});var n=s.createElement("div");return u(n,"columns",0),a.filter(function(e){return!!e}).forEach(function(e){n.appendChild(e)}),n},d.recreateColumns=function(t){i.requestAnimationFrame(function(){d.addColumns(t,d.removeColumns(t));var e=new CustomEvent("columnsChange");t.dispatchEvent(e)})},d.mediaQueryChange=function(e){e.matches&&Array.prototype.forEach.call(r,d.recreateColumns)},d.getCSSRules=function(e){var t;try{t=e.sheet.cssRules||e.sheet.rules}catch(e){return[]}return t||[]},d.getStylesheets=function(){var n=Array.prototype.slice.call(s.querySelectorAll("style"));return n.forEach(function(e,t){"text/css"!==e.type&&""!==e.type&&n.splice(t,1)}),Array.prototype.concat.call(n,Array.prototype.slice.call(s.querySelectorAll("link[rel='stylesheet']")))},d.mediaRuleHasColumnsSelector=function(e){var t,n;try{t=e.length}catch(e){t=0}for(;t--;)if((n=e[t]).selectorText&&n.selectorText.match(/\[data-columns\](.*)::?before$/))return!0;return!1},d.scanMediaQueries=function(){var t,n=[];i.matchMedia&&(d.getStylesheets().forEach(function(e){Array.prototype.forEach.call(d.getCSSRules(e),function(e){try{e.media&&e.cssRules&&d.mediaRuleHasColumnsSelector(e.cssRules)&&n.push(e)}catch(e){}})}),t=a.filter(function(e){return-1===n.indexOf(e)}),o.filter(function(e){return-1!==t.indexOf(e.rule)}).forEach(function(e){e.mql.removeListener(d.mediaQueryChange)}),o=o.filter(function(e){return-1===t.indexOf(e.rule)}),n.filter(function(e){return-1==a.indexOf(e)}).forEach(function(e){var t=i.matchMedia(e.media.mediaText);t.addListener(d.mediaQueryChange),o.push({rule:e,mql:t})}),a.length=0,a=n)},d.rescanMediaQueries=function(){d.scanMediaQueries(),Array.prototype.forEach.call(r,d.recreateColumns)},d.nextElementColumnIndex=function(e,t){for(var n,r=e.children,a=r.length,i=0,o=0,c=0;c<a;c++)n=r[c].children.length+(t[c].children||t[c].childNodes).length,0===i&&(i=n),n<i&&(o=c,i=n);return o},d.createFragmentsList=function(e){for(var t=new Array(e),n=0;n!==e;)t[n]=s.createDocumentFragment(),n++;return t},d.appendElements=function(n,e){var t=n.children,r=t.length,a=d.createFragmentsList(r);Array.prototype.forEach.call(e,function(e){var t=d.nextElementColumnIndex(n,a);a[t].appendChild(e)}),Array.prototype.forEach.call(t,function(e,t){e.appendChild(a[t])})},d.prependElements=function(e,t){var n=e.children,r=n.length,a=d.createFragmentsList(r),i=r-1;t.forEach(function(e){var t=a[i];t.insertBefore(e,t.firstChild),0===i?i=r-1:i--}),Array.prototype.forEach.call(n,function(e,t){e.insertBefore(a[t],e.firstChild)});for(var o=s.createDocumentFragment(),c=t.length%r;0!=c--;)o.appendChild(e.lastChild);e.insertBefore(o,e.firstChild)},d.registerGrid=function(e){var t,n;"none"!==i.getComputedStyle(e).display&&((t=s.createRange()).selectNodeContents(e),(n=s.createElement("div")).appendChild(t.extractContents()),u(n,"columns",0),d.addColumns(e,n),r.push(e))},d.init=function(){var e=s.createElement("style");e.innerHTML="[data-columns]::before{display:block;visibility:hidden;position:absolute;font-size:1px;}",s.head.appendChild(e);e=Array.from(s.querySelectorAll("[data-columns]")).filter(function(e){return!e.querySelector(".oew-column")});Array.prototype.forEach.call(e,d.registerGrid),d.scanMediaQueries()},d.init(),{appendElements:d.appendElements,prependElements:d.prependElements,registerGrid:d.registerGrid,recreateColumns:d.recreateColumns,rescanMediaQueries:d.rescanMediaQueries,init:d.init,append_elements:d.appendElements,prepend_elements:d.prependElements,register_grid:d.registerGrid,recreate_columns:d.recreateColumns,rescan_media_queries:d.rescanMediaQueries}}(window,window.document)});