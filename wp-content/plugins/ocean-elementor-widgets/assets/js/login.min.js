!function(a){"use strict";let r=function(e,n){this.node=e,this.id=n.id,this.messages=n.messages,this.settings=n,this._init()};r.prototype={settings:{},_init:function(){0<this.node.find("#oew-form-"+this.id).length&&this.node.find("#oew-form-"+this.id).on("submit",a.proxy(this._loginFormSubmit,this))},_loginFormSubmit:function(e){e.preventDefault();var t=a(e.target),n=t.find('input[name="log"]'),o=t.find('input[name="pwd"]'),r=t.find('input[name="rememberme"]'),i=t.find('input[name="redirect_to"]');n.parent().find(".oew-lf-error").remove(),o.parent().find(".oew-lf-error").remove(),""!==n.val().trim()?""!==o.val()?((e=new FormData(t[0])).append("action","oewe_lf_process_login"),e.append("page_url",this.settings.page_url),e.append("username",n.val()),e.append("password",o.val()),0<i.length&&""!==i.val()&&e.append("redirect",i.val()),0<r.length&&r.is(":checked")&&e.append("remember","1"),this._ajax(e,function(e){var n;e.success?e.data.redirect_url?(n=location.protocol+"//"+location.host,(""===e.data.redirect_url.split(n)[0]?e.data.redirect_url.split(n)[1]:e.data.redirect_url.split(n)[0])===location.href.split(n)[1]?window.location.reload():window.location.href=e.data.redirect_url):window.location.reload():(t.find(".oew-lf-error").remove(),a('<span class="oew-lf-error">').prependTo(t).html(e.data))})):a('<span class="oew-lf-error">').insertAfter(o).html(this.messages.empty_password):a('<span class="oew-lf-error">').insertAfter(n).html(this.messages.empty_username)},_getNonce:function(){return this.node.find('.oew-login-form input[name="oewe-lf-login-nonce"]').val()},_ajax:function(e,n){var t={type:"POST",url:oewLogin.ajax_url,data:e,dataType:"json",success:function(e){"function"==typeof n&&n(e)},error:function(e,n){console.log(n)}};void 0===e.provider&&(t.processData=!1,t.contentType=!1),a.ajax(t)}};function e(e,n){var t=e.find(".oew-form"),o=e.find(".oew-login-form-wrap").data("page-url");0<n(t).length&&new r(e,{id:e.data("id"),messages:{empty_username:oewLogin.empty_username,empty_password:oewLogin.empty_password},page_url:o})}jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/oew-login.default",e)})}(jQuery);